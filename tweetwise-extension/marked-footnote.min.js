/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/marked-footnote@1.2.4/dist/index.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&typeof module<"u"?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).markedFootnote=t()}(this,(function(){"use strict";function e(e,t){const n={type:"footnotes",raw:t,rawItems:[],items:[]};return{name:"footnote",level:"block",childTokens:["content"],tokenizer(t){e.hasFootnotes||(this.lexer.tokens.push(n),e.tokens=this.lexer.tokens,e.hasFootnotes=!0,n.rawItems=[],n.items=[]);const o=/^\[\^([^\]\n]+)\]:(?:[ \t]+|[\n]*?|$)([^\n]*?(?:\n|$)(?:\n*?[ ]{4,}[^\n]*)*)/.exec(t);if(o){const[e,t,s=""]=o;let r=s.split("\n").reduce(((e,t)=>e+"\n"+t.replace(/^(?:[ ]{4}|[\t])/,"")),"");const i=r.trimEnd().split("\n").pop();r+=i&&/^[ \t]*?[>\-*][ ]|[`]{3,}$|^[ \t]*?[|].+[|]$/.test(i)?"\n\n":"";const l={type:"footnote",raw:e,label:t,refs:[],content:this.lexer.blockTokens(r)};return n.rawItems.push(l),l}},renderer:()=>""}}function t(e,t=!1){let n=0;return{name:"footnoteRef",level:"inline",tokenizer(e){const t=/^\[\^([^\]\n]+)\]/.exec(e);if(t){const[e,o]=t,s=this.lexer.tokens[0],r=s.rawItems.filter((e=>e.label===o));if(!r.length)return;const i=r[0],l=s.items.filter((e=>e.label===o))[0],a={type:"footnoteRef",raw:e,id:"",label:o};return l?(a.id=l.refs[0].id,l.refs.push(a)):(n++,a.id=String(n),i.refs.push(a),s.items.push(i)),a}},renderer({id:o,label:s}){n=0;const r=encodeURIComponent(s);return`<sup><a id="${e}ref-${r}" href="#${e+r}" data-${e}ref aria-describedby="${e}label">${t?`[${o}]`:o}</a></sup>`}}}function n(e){return{name:"footnotes",renderer({raw:t,items:n=[]}){if(0===n.length)return"";const o=n.reduce(((t,{label:n,content:o,refs:s})=>{const r=encodeURIComponent(n),i=this.parser.parse(o).trimEnd(),l=i.endsWith("</p>");let a=`<li id="${e+r}">\n`;return a+=l?i.replace(/<\/p>$/,""):i,s.forEach(((t,o)=>{a+=` <a href="#${e}ref-${r}" data-${e}backref aria-label="Back to reference ${n}">${o>0?`↩<sup>${o+1}</sup>`:"↩"}</a>`})),a+=l?"</p>\n":"\n",a+="</li>\n",t+a}),"");let s='<section class="footnotes" data-footnotes>\n';return s+=`<h2 id="${e}label" class="sr-only">${t.trimEnd()}</h2>\n`,s+=`<ol>\n${o}</ol>\n`,s+="</section>\n",s}}}return function(o={}){const{prefixId:s="footnote-",description:r="Footnotes",refMarkers:i}=o,l={hasFootnotes:!1,tokens:[]};return{extensions:[e(l,r),t(s,i),n(s)],walkTokens(e){"footnotes"===e.type&&0===l.tokens.indexOf(e)&&e.items.length&&(l.tokens[0]={type:"space",raw:""},l.tokens.push(e)),l.hasFootnotes&&(l.hasFootnotes=!1)}}}}));
//# sourceMappingURL=/sm/aadb12ba4ee0015ff6fc72031f186963a7ab67b98ddd465ff7af726b5ecf6943.map